<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pulp-image - Interactive Documentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .content {
            padding: 40px;
        }

        .section {
            margin-bottom: 40px;
        }

        .section h2 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }

        .section h3 {
            color: #764ba2;
            font-size: 1.5em;
            margin: 30px 0 15px 0;
        }

        .command-box {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 20px;
            margin: 15px 0;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            position: relative;
        }

        .command-box code {
            color: #e83e8c;
            font-size: 1.1em;
            display: block;
            margin-bottom: 10px;
        }

        .command-box .description {
            color: #6c757d;
            margin-top: 10px;
            font-family: 'Segoe UI', sans-serif;
            font-size: 0.95em;
        }

        .example-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .example-card {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
        }

        .example-card:hover {
            border-color: #667eea;
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
        }

        .example-card h4 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .example-card code {
            background: #fff;
            padding: 10px;
            border-radius: 5px;
            display: block;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            color: #e83e8c;
            border: 1px solid #dee2e6;
        }

        .option-list {
            list-style: none;
        }

        .option-list li {
            padding: 15px;
            margin: 10px 0;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }

        .option-list li strong {
            color: #667eea;
            font-family: 'Courier New', monospace;
        }

        .badge {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8em;
            margin-left: 10px;
        }

        .badge-primary {
            background: #667eea;
            color: white;
        }

        .badge-success {
            background: #28a745;
            color: white;
        }

        .badge-warning {
            background: #ffc107;
            color: #333;
        }

        .tabs {
            display: flex;
            border-bottom: 2px solid #e9ecef;
            margin-bottom: 20px;
        }

        .tab {
            padding: 15px 30px;
            cursor: pointer;
            border: none;
            background: none;
            font-size: 1.1em;
            color: #6c757d;
            transition: all 0.3s ease;
        }

        .tab.active {
            color: #667eea;
            border-bottom: 3px solid #667eea;
            font-weight: bold;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .highlight {
            background: #fff3cd;
            padding: 2px 6px;
            border-radius: 3px;
            font-weight: bold;
        }

        .info-box {
            background: #d1ecf1;
            border-left: 4px solid #0c5460;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .info-box strong {
            color: #0c5460;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2em;
            }
            .example-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>pulp-image</h1>
            <p>Image processing made simple</p>
            <p style="margin-top: 10px; font-size: 0.9em;">v0.1.0 | Rebellion Geeks</p>
        </div>

        <div class="content">
            <div class="section">
                <h2>What is pulp-image?</h2>
                <p style="font-size: 1.1em; line-height: 1.8; margin-bottom: 20px;">
                    <strong>pulp-image</strong> is a powerful command-line tool for processing images. It can resize, convert formats, optimize, and batch process images with safety-first defaults.
                </p>
                <div class="info-box">
                    <strong>üí° Why --out?</strong> The <code>--out</code> option specifies where processed images are saved. 
                    Default is <code>./dist</code>. This keeps your originals safe and organizes outputs in a dedicated folder.
                </div>
            </div>

            <div class="tabs">
                <button class="tab active" onclick="showTab('quickstart')">Quick Start</button>
                <button class="tab" onclick="showTab('options')">All Options</button>
                <button class="tab" onclick="showTab('examples')">Examples</button>
                <button class="tab" onclick="showTab('compression')">Compression</button>
                <button class="tab" onclick="showTab('safety')">Safety Features</button>
            </div>

            <div id="quickstart" class="tab-content active">
                <div class="section">
                    <h3>Installation</h3>
                    
                    <h4>Method 1: Clone and Link (Development)</h4>
                    <div class="command-box">
                        <code>git clone https://github.com/rebelliongeeks/pulp-image.git</code>
                        <code>cd pulp-image</code>
                        <code>npm install</code>
                        <code>npm link</code>
                        <div class="description">Clone from GitHub, install dependencies, and link the CLI globally. Note: This creates a symlink - if you delete the project folder, the command will stop working.</div>
                    </div>

                    <h4>Method 2: Global Installation (Persistent)</h4>
                    <div class="command-box">
                        <code>git clone https://github.com/rebelliongeeks/pulp-image.git</code>
                        <code>cd pulp-image</code>
                        <code>npm install</code>
                        <code>npm install -g .</code>
                        <div class="description">This copies files to your global npm directory. The command will work even if you delete the project folder.</div>
                    </div>

                    <h4>Method 3: Direct from GitHub</h4>
                    <div class="command-box">
                        <code>npm install -g github:rebelliongeeks/pulp-image</code>
                        <div class="description">Install directly from GitHub without cloning (persistent installation)</div>
                    </div>

                    <div class="info-box">
                        <strong>üí° Difference:</strong><br>
                        ‚Ä¢ <code>npm link</code> = Creates a symlink (breaks if you delete the folder)<br>
                        ‚Ä¢ <code>npm install -g</code> = Copies files (persists after deletion)<br><br>
                        <strong>Requirements:</strong> Node.js >= 18.0.0
                    </div>
                </div>

                <div class="section">
                    <h3>Basic Usage</h3>
                    <div class="command-box">
                        <code>pulp [input] [options]</code>
                        <div class="description">
                            Process a single image file or all images in a directory
                        </div>
                    </div>

                    <h3>Quick Examples</h3>
                    <div class="example-grid">
                        <div class="example-card">
                            <h4>Resize Image</h4>
                            <code>pulp image.png --width 800</code>
                            <p>Resizes to 800px width, preserving aspect ratio</p>
                        </div>
                        <div class="example-card">
                            <h4>Convert Format</h4>
                            <code>pulp image.png --format webp</code>
                            <p>Converts PNG to WebP format</p>
                        </div>
                        <div class="example-card">
                            <h4>Batch Process</h4>
                            <code>pulp ./images --format webp --out ./output</code>
                            <p>Processes all images in directory</p>
                        </div>
                    </div>
                </div>
            </div>

            <div id="options" class="tab-content">
                <div class="section">
                    <h3>Resize Options</h3>
                    <ul class="option-list">
                        <li>
                            <strong>-w, --width &lt;number&gt;</strong>
                            <span class="badge badge-primary">Resize</span>
                            <p>Output width in pixels. If only width is provided, height is auto-calculated to preserve aspect ratio.</p>
                        </li>
                        <li>
                            <strong>-h, --height &lt;number&gt;</strong>
                            <span class="badge badge-primary">Resize</span>
                            <p>Output height in pixels. If only height is provided, width is auto-calculated to preserve aspect ratio.</p>
                        </li>
                    </ul>

                    <h3>Format Options</h3>
                    <ul class="option-list">
                        <li>
                            <strong>-f, --format &lt;format&gt;</strong>
                            <span class="badge badge-success">Format</span>
                            <p>Output format: <code>png</code>, <code>jpg</code>, <code>webp</code>, or <code>avif</code></p>
                        </li>
                    </ul>

                    <h3>Output Options</h3>
                    <ul class="option-list">
                        <li>
                            <strong>-o, --out &lt;dir&gt;</strong>
                            <span class="badge badge-warning">Output</span>
                            <p>Output directory for processed images. Default: <code>./dist</code>. Creates directory if it doesn't exist.</p>
                        </li>
                        <li>
                            <strong>--suffix &lt;text&gt;</strong>
                            <span class="badge badge-warning">Output</span>
                            <p>Custom suffix to add before file extension. Example: <code>--suffix "optimized"</code> creates <code>image-optimized.png</code></p>
                        </li>
                        <li>
                            <strong>--auto-suffix</strong>
                            <span class="badge badge-warning">Output</span>
                            <p>Automatically add size-based suffix: <code>-800w</code> (width only), <code>-600h</code> (height only), <code>-800x600</code> (both)</p>
                        </li>
                    </ul>

                    <h3>Quality Options</h3>
                    <ul class="option-list">
                        <li>
                            <strong>--quality &lt;number&gt;</strong>
                            <span class="badge badge-success">Quality</span>
                            <p>Quality for lossy formats (1-100). Defaults: JPG=80, WebP=80, AVIF=50. Higher = better quality but larger file size.</p>
                        </li>
                        <li>
                            <strong>--lossless</strong>
                            <span class="badge badge-success">Quality</span>
                            <p>Use lossless compression where supported (PNG, WebP, AVIF). Note: PNG is always lossless by default. JPG does not support lossless.</p>
                        </li>
                    </ul>
                    <div class="info-box">
                        <strong>üìä Compression Behavior:</strong><br>
                        ‚Ä¢ <strong>PNG:</strong> Always lossless (no quality setting)<br>
                        ‚Ä¢ <strong>JPG:</strong> Always lossy, default quality 80<br>
                        ‚Ä¢ <strong>WebP:</strong> Lossy by default (quality 80), can use <code>--lossless</code><br>
                        ‚Ä¢ <strong>AVIF:</strong> Lossy by default (quality 50), can use <code>--lossless</code><br>
                        Resize does not affect compression - it only changes dimensions.
                    </div>

                    <h3>Transparency Options</h3>
                    <ul class="option-list">
                        <li>
                            <strong>--background &lt;color&gt;</strong>
                            <span class="badge badge-primary">Transparency</span>
                            <p>Background color for flattening transparency (hex format). Default: <code>#ffffff</code> (white)</p>
                        </li>
                        <li>
                            <strong>--alpha-mode &lt;mode&gt;</strong>
                            <span class="badge badge-primary">Transparency</span>
                            <p>Alpha handling: <code>flatten</code> (default) or <code>error</code>. Use <code>error</code> to fail if transparency exists and format doesn't support it.</p>
                        </li>
                    </ul>

                    <h3>Safety Options</h3>
                    <ul class="option-list">
                        <li>
                            <strong>--overwrite</strong>
                            <span class="badge badge-warning">Safety</span>
                            <p>Overwrite existing output files. By default, existing files are skipped.</p>
                        </li>
                        <li>
                            <strong>--delete-original</strong>
                            <span class="badge badge-warning">Safety</span>
                            <p>Delete original files after successful processing. Only deletes if input and output paths differ.</p>
                        </li>
                    </ul>

                    <h3>Other Options</h3>
                    <ul class="option-list">
                        <li>
                            <strong>-v, --verbose</strong>
                            <span class="badge badge-primary">Info</span>
                            <p>Show detailed per-file processing information</p>
                        </li>
                        <li>
                            <strong>--help</strong>
                            <span class="badge badge-primary">Info</span>
                            <p>Display help information</p>
                        </li>
                        <li>
                            <strong>--version</strong>
                            <span class="badge badge-primary">Info</span>
                            <p>Show version number</p>
                        </li>
                    </ul>
                </div>
            </div>

            <div id="examples" class="tab-content">
                <div class="section">
                    <h3>Resize Examples</h3>
                    <div class="example-grid">
                        <div class="example-card">
                            <h4>Resize by Width</h4>
                            <code>pulp image.png --width 800</code>
                            <p>Resizes to 800px width, auto-calculates height</p>
                        </div>
                        <div class="example-card">
                            <h4>Resize by Height</h4>
                            <code>pulp image.png --height 600</code>
                            <p>Resizes to 600px height, auto-calculates width</p>
                        </div>
                        <div class="example-card">
                            <h4>Exact Dimensions</h4>
                            <code>pulp image.png --width 800 --height 600</code>
                            <p>Resizes to exact 800x600 dimensions</p>
                        </div>
                    </div>

                    <h3>Format Conversion Examples</h3>
                    <div class="example-grid">
                        <div class="example-card">
                            <h4>PNG to WebP</h4>
                            <code>pulp image.png --format webp</code>
                            <p>Converts PNG to WebP, preserves transparency</p>
                        </div>
                        <div class="example-card">
                            <h4>PNG to JPG</h4>
                            <code>pulp image.png --format jpg</code>
                            <p>Converts PNG to JPG, flattens transparency to white</p>
                        </div>
                        <div class="example-card">
                            <h4>Custom Background</h4>
                            <code>pulp image.png --format jpg --background "#ff0000"</code>
                            <p>Flattens transparency onto red background</p>
                        </div>
                        <div class="example-card">
                            <h4>Lossless WebP</h4>
                            <code>pulp image.png --format webp --lossless</code>
                            <p>Converts to lossless WebP format</p>
                        </div>
                    </div>

                    <h3>Quality Examples</h3>
                    <div class="example-grid">
                        <div class="example-card">
                            <h4>High Quality JPG</h4>
                            <code>pulp image.png --format jpg --quality 95</code>
                            <p>Creates high-quality JPG (larger file, better quality)</p>
                        </div>
                        <div class="example-card">
                            <h4>Medium Quality WebP</h4>
                            <code>pulp image.png --format webp --quality 60</code>
                            <p>Creates smaller WebP file with medium quality</p>
                        </div>
                        <div class="example-card">
                            <h4>Custom AVIF Quality</h4>
                            <code>pulp image.png --format avif --quality 70</code>
                            <p>Overrides default AVIF quality (default is 50)</p>
                        </div>
                        <div class="example-card">
                            <h4>Resize + Quality</h4>
                            <code>pulp image.png --format jpg --width 800 --quality 90</code>
                            <p>Resizes and sets custom quality</p>
                        </div>
                    </div>

                    <h3>Suffix Examples</h3>
                    <div class="example-grid">
                        <div class="example-card">
                            <h4>Auto Suffix</h4>
                            <code>pulp image.png --width 800 --auto-suffix</code>
                            <p>Creates: <code>image-800w.png</code></p>
                        </div>
                        <div class="example-card">
                            <h4>Custom Suffix</h4>
                            <code>pulp image.png --suffix "optimized"</code>
                            <p>Creates: <code>image-optimized.png</code></p>
                        </div>
                        <div class="example-card">
                            <h4>Combined Suffixes</h4>
                            <code>pulp image.png --width 800 --auto-suffix --suffix "thumb"</code>
                            <p>Creates: <code>image-800w-thumb.png</code></p>
                        </div>
                    </div>

                    <h3>Batch Processing Examples</h3>
                    <div class="example-grid">
                        <div class="example-card">
                            <h4>Convert All Images</h4>
                            <code>pulp ./images --format webp --out ./output</code>
                            <p>Processes all images in directory</p>
                        </div>
                        <div class="example-card">
                            <h4>Resize All Images</h4>
                            <code>pulp ./images --width 800 --auto-suffix --out ./output</code>
                            <p>Resizes all images, adds size suffix</p>
                        </div>
                        <div class="example-card">
                            <h4>Verbose Mode</h4>
                            <code>pulp ./images --format webp --out ./output --verbose</code>
                            <p>Shows detailed per-file information</p>
                        </div>
                    </div>
                </div>
            </div>

            <div id="compression" class="tab-content">
                <div class="section">
                    <h3>Compression & Quality Guide</h3>
                    <p style="font-size: 1.1em; line-height: 1.8; margin-bottom: 20px;">
                        Understanding how compression works in pulp-image is important for getting the best results.
                    </p>

                    <h3>Default Compression Behavior</h3>
                    <div class="example-grid">
                        <div class="example-card">
                            <h4>PNG Format</h4>
                            <code>pulp image.png --format png</code>
                            <p><strong>Always lossless</strong> - PNG is inherently lossless. No quality setting available.</p>
                        </div>
                        <div class="example-card">
                            <h4>JPG Format</h4>
                            <code>pulp image.png --format jpg</code>
                            <p><strong>Always lossy</strong> - Default quality: 80. JPG does not support lossless compression.</p>
                        </div>
                        <div class="example-card">
                            <h4>WebP Format</h4>
                            <code>pulp image.png --format webp</code>
                            <p><strong>Lossy by default</strong> - Default quality: 80. Can use <code>--lossless</code> for lossless compression.</p>
                        </div>
                        <div class="example-card">
                            <h4>AVIF Format</h4>
                            <code>pulp image.png --format avif</code>
                            <p><strong>Lossy by default</strong> - Default quality: 50. Can use <code>--lossless</code> for lossless compression.</p>
                        </div>
                    </div>

                    <div class="info-box">
                        <strong>üí° Important:</strong> Resize operations do NOT affect compression. Resizing only changes image dimensions. Compression/quality is determined by the format and quality settings.
                    </div>

                    <h3>Using Lossless Compression</h3>
                    <div class="example-grid">
                        <div class="example-card">
                            <h4>Lossless WebP</h4>
                            <code>pulp image.png --format webp --lossless</code>
                            <p>Creates lossless WebP (larger file, perfect quality)</p>
                        </div>
                        <div class="example-card">
                            <h4>Lossless AVIF</h4>
                            <code>pulp image.png --format avif --lossless</code>
                            <p>Creates lossless AVIF (larger file, perfect quality)</p>
                        </div>
                        <div class="example-card">
                            <h4>PNG (Already Lossless)</h4>
                            <code>pulp image.jpg --format png</code>
                            <p>PNG is always lossless - no flag needed</p>
                        </div>
                    </div>

                    <div class="info-box">
                        <strong>‚ö†Ô∏è Note:</strong> JPG format does NOT support lossless compression. If you use <code>--lossless</code> with JPG, it will warn and use quality settings instead.
                    </div>

                    <h3>Custom Quality Settings</h3>
                    <div class="example-grid">
                        <div class="example-card">
                            <h4>High Quality JPG</h4>
                            <code>pulp image.png --format jpg --quality 95</code>
                            <p>Higher quality (larger file size)</p>
                        </div>
                        <div class="example-card">
                            <h4>Low Quality WebP</h4>
                            <code>pulp image.png --format webp --quality 60</code>
                            <p>Lower quality (smaller file size)</p>
                        </div>
                        <div class="example-card">
                            <h4>Custom AVIF Quality</h4>
                            <code>pulp image.png --format avif --quality 70</code>
                            <p>Override default AVIF quality (default is 50)</p>
                        </div>
                    </div>

                    <h3>Quality vs File Size</h3>
                    <div class="info-box">
                        <strong>Quality Guidelines:</strong><br>
                        ‚Ä¢ <strong>90-100:</strong> Very high quality, large files (best for photos)<br>
                        ‚Ä¢ <strong>80-89:</strong> High quality, good balance (default for JPG/WebP)<br>
                        ‚Ä¢ <strong>60-79:</strong> Medium quality, smaller files (good for web)<br>
                        ‚Ä¢ <strong>40-59:</strong> Lower quality, very small files (default for AVIF)<br>
                        ‚Ä¢ <strong>1-39:</strong> Very low quality, minimal file size (not recommended)
                    </div>

                    <h3>Compression Examples</h3>
                    <div class="command-box">
                        <code># Lossy WebP (default quality 80)</code>
                        <code>pulp image.png --format webp</code>
                        <div class="description">Creates lossy WebP with quality 80</div>
                    </div>

                    <div class="command-box">
                        <code># Lossless WebP</code>
                        <code>pulp image.png --format webp --lossless</code>
                        <div class="description">Creates lossless WebP (perfect quality, larger file)</div>
                    </div>

                    <div class="command-box">
                        <code># High quality JPG</code>
                        <code>pulp image.png --format jpg --quality 95</code>
                        <div class="description">Creates high-quality JPG (larger file, better quality)</div>
                    </div>

                    <div class="command-box">
                        <code># Medium quality WebP (smaller file)</code>
                        <code>pulp image.png --format webp --quality 60</code>
                        <div class="description">Creates smaller WebP file with medium quality</div>
                    </div>

                    <div class="command-box">
                        <code># Custom AVIF quality</code>
                        <code>pulp image.png --format avif --quality 70</code>
                        <div class="description">Overrides default AVIF quality (default is 50)</div>
                    </div>

                    <div class="command-box">
                        <code># Resize + Quality</code>
                        <code>pulp image.png --format jpg --width 800 --quality 90</code>
                        <div class="description">Resizes to 800px width and sets custom quality</div>
                    </div>

                    <div class="command-box">
                        <code># Resize + Lossless (resize doesn't affect compression)</code>
                        <code>pulp image.png --format webp --width 800 --lossless</code>
                        <div class="description">Resizes to 800px width, uses lossless WebP compression</div>
                    </div>
                </div>
            </div>

            <div id="safety" class="tab-content">
                <div class="section">
                    <h3>Safety Features</h3>
                    <div class="info-box">
                        <strong>üõ°Ô∏è Overwrite Protection</strong><br>
                        By default, pulp-image will NOT overwrite existing files. Use <code>--overwrite</code> to allow overwriting.
                    </div>

                    <div class="info-box">
                        <strong>üõ°Ô∏è Delete Original Safety</strong><br>
                        The <code>--delete-original</code> flag only deletes files after successful processing and only if input and output paths differ. This prevents accidental data loss.
                    </div>

                    <div class="info-box">
                        <strong>üõ°Ô∏è Same Path Protection</strong><br>
                        If input and output paths are the same, processing is skipped unless <code>--overwrite</code> is used. This prevents accidental in-place overwrites.
                    </div>

                    <div class="info-box">
                        <strong>üõ°Ô∏è Batch Resilience</strong><br>
                        If one file fails during batch processing, processing continues for remaining files. All results are summarized at the end.
                    </div>

                    <h3>Safety Examples</h3>
                    <div class="example-grid">
                        <div class="example-card">
                            <h4>Safe Processing</h4>
                            <code>pulp image.png --format webp --out ./dist</code>
                            <p>Output goes to <code>./dist</code>, original is safe</p>
                        </div>
                        <div class="example-card">
                            <h4>Overwrite Existing</h4>
                            <code>pulp image.png --format webp --out ./dist --overwrite</code>
                            <p>Overwrites existing output files</p>
                        </div>
                        <div class="example-card">
                            <h4>Delete After Processing</h4>
                            <code>pulp image.png --format webp --out ./dist --delete-original</code>
                            <p>Deletes original only after successful processing</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function showTab(tabName) {
            // Hide all tab contents
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(content => content.classList.remove('active'));

            // Remove active class from all tabs
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => tab.classList.remove('active'));

            // Show selected tab content
            document.getElementById(tabName).classList.add('active');

            // Add active class to clicked tab
            event.target.classList.add('active');
        }
    </script>
</body>
</html>

