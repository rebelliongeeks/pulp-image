<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pulp Image - Browser UI</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <header class="header">
      <div class="brand">
        <img src="/assets/pulp-logo-white.svg" alt="Pulp Image logo" class="logo">
        <div class="brand-text">
          <h1>Pulp Image</h1>
          <p class="brand-subtitle">by Rebellion Geeks <span class="version" id="version">v0.1.0</span></p>
        </div>
      </div>
    </header>

    <main class="main-content">
      <div class="tabs">
        <button class="tab-button active" data-tab="process">Process Images</button>
        <button class="tab-button" data-tab="help">Help & CLI Reference</button>
      </div>

      <!-- Process Tab -->
      <div class="tab-content active" id="process-tab">
        <form id="process-form" class="process-form">
          <!-- Input Source -->
          <div class="form-group">
            <label class="form-label">
              Input Source <span class="required">*</span>
            </label>
            
            <!-- Input Mode Switch -->
            <div class="input-mode-switch">
              <label class="radio-label">
                <input type="radio" name="input-mode" value="files" checked>
                <span>Files</span>
              </label>
              <label class="radio-label">
                <input type="radio" name="input-mode" value="folder">
                <span>Folder</span>
              </label>
            </div>
            
            <!-- Files Input -->
            <input type="file" id="input-source-files" class="file-input" multiple accept="image/png,image/jpeg,image/webp,image/avif" style="display: block;">
            
            <!-- Folder Input -->
            <input type="file" id="input-source-folder" class="file-input" webkitdirectory directory multiple style="display: none;">
            
            <div class="input-helper" id="input-helper">
              Select one or more image files. Supports PNG, JPG, WebP, AVIF. Multiple files will be processed as a batch.
            </div>
            
            <!-- Folder mode privacy notice -->
            <div id="folder-privacy-notice" class="privacy-notice" style="display: none;">
              <div class="privacy-notice-content">
                <strong>Privacy note:</strong> Files are processed locally on your computer. Browsers may show a security prompt when selecting folders. No files are uploaded to the internet.
              </div>
              <div class="privacy-notice-browser" style="margin-top: 0.5rem; font-size: 0.85rem; color: var(--text-secondary);">
                Your browser may ask for permission to access this folder.
              </div>
            </div>
            
            <!-- File List Preview -->
            <div id="input-preview" class="input-preview">
              <div class="file-list-summary">
                <span id="file-list-summary-text">No files selected</span>
                <button type="button" id="toggle-file-list" class="toggle-file-list-btn" style="display: none;">Show files</button>
              </div>
              <div id="file-list-detail" class="file-list-detail" style="display: none;">
                <!-- File list will be populated here -->
              </div>
              <div style="margin-top: 0.5rem;">
                <button type="button" id="toggle-ignored-files" class="toggle-file-list-btn toggle-file-list-btn-secondary" style="display: none;">Show ignored files</button>
              </div>
              <div id="ignored-files-list" class="file-list-detail ignored-files-list" style="display: none;">
                <!-- Ignored files will be populated here -->
              </div>
            </div>
          </div>

          <!-- Output Directory -->
          <div class="form-group">
            <label for="output-dir" class="form-label">
              Output Directory
            </label>
            <input type="text" id="output-dir" class="text-input" readonly placeholder="~/my-images or full path">
            <div class="input-helper" id="output-dir-helper">
              Files will be saved in a new folder inside your home directory.
            </div>
            
            <!-- Advanced Output Options -->
            <details class="advanced-options">
              <summary class="advanced-options-summary">Advanced output options</summary>
              <div class="advanced-options-content">
                <label class="checkbox-label">
                  <input type="checkbox" id="use-custom-output">
                  <span class="checkbox-text">Use custom output directory</span>
                </label>
                <div class="input-helper">
                  When enabled, you can specify a custom output directory. Use <code>~</code> as a shortcut for your home folder (e.g., <code>~/my-images</code>), or enter a full path.
                </div>
              </div>
            </details>
            
            <div class="form-actions-inline" style="margin-top: 0.5rem;">
              <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                <button type="button" id="open-results-folder" class="button button-secondary" style="display: none;">
                  Open results folder
                </button>
                <div id="open-results-folder-helper" class="button-helper-text" style="display: none;"></div>
                <div id="open-results-folder-fallback" class="folder-open-fallback" style="display: none;">
                  <div class="folder-open-fallback-message"></div>
                  <div class="folder-open-fallback-path"></div>
                </div>
              </div>
            </div>
          </div>

          <!-- Format -->
          <div class="form-group">
            <label for="format" class="form-label">Output Format</label>
            <select id="format" class="select-input">
              <option value="">Keep original format</option>
              <option value="png">PNG - Lossless, supports transparency</option>
              <option value="jpg">JPG - Lossy, best for photos, no transparency</option>
              <option value="webp">WebP - Modern format, good compression</option>
              <option value="avif">AVIF - Best compression, modern browsers</option>
            </select>
            <div class="input-helper" id="format-helper">
              Select output format or keep original.
            </div>
          </div>

          <!-- Width & Height -->
          <div class="form-row">
            <div class="form-group">
              <label for="width" class="form-label">Width (px)</label>
              <input type="number" id="width" class="number-input" min="1" placeholder="Auto">
              <div class="input-helper">Leave empty to preserve aspect ratio</div>
            </div>
            <div class="form-group">
              <label for="height" class="form-label">Height (px)</label>
              <input type="number" id="height" class="number-input" min="1" placeholder="Auto">
              <div class="input-helper">Leave empty to preserve aspect ratio</div>
            </div>
          </div>

          <!-- Quality -->
          <div class="form-group">
            <label for="quality" class="form-label">
              Quality <span id="quality-value" class="value-display">80</span>
            </label>
            <input type="range" id="quality" class="slider-input" min="1" max="100" value="80">
            <div class="input-helper" id="quality-helper">
              Quality for lossy formats (1-100). Higher = better quality but larger file.
            </div>
          </div>

          <!-- Lossless -->
          <div class="form-group">
            <label class="toggle-label">
              <input type="checkbox" id="lossless" class="toggle-input">
              <span class="toggle-slider"></span>
              <span class="toggle-text">Lossless Compression</span>
            </label>
            <div class="input-helper" id="lossless-helper">
              Use lossless compression where supported (PNG, WebP, AVIF). PNG is always lossless.
            </div>
          </div>

          <!-- Alpha Mode -->
          <div class="form-group">
            <label class="form-label">Alpha (Transparency) Handling</label>
            <div class="radio-group">
              <label class="radio-label">
                <input type="radio" name="alpha-mode" value="flatten" checked>
                <span>Flatten</span>
              </label>
              <label class="radio-label">
                <input type="radio" name="alpha-mode" value="error">
                <span>Error</span>
              </label>
            </div>
            <div class="input-helper">
              Flatten: Composite transparency onto background color. Error: Fail if transparency is present.
            </div>
          </div>

          <!-- Background Color -->
          <div class="form-group">
            <label for="background" class="form-label">Background Color</label>
            <div class="color-input-wrapper">
              <input type="color" id="background" class="color-input" value="#ffffff">
              <input type="text" id="background-text" class="color-text-input" value="#ffffff" readonly>
            </div>
            <div class="input-helper">
              Background color for flattening transparency (used when converting to formats without transparency).
            </div>
          </div>

          <!-- Rename Pattern -->
          <div class="form-group">
            <label for="rename-pattern" class="form-label">Rename Pattern (optional)</label>
            <input type="text" id="rename-pattern" class="text-input" placeholder="e.g., {name}-optimized.{ext}">
            <div class="input-helper">
              Supported tokens: <code>{name}</code> (original basename), <code>{ext}</code> (output extension), <code>{index}</code> (1-based index). 
              The rename pattern fully controls the output filename. <code>{name}</code> is optional and can be omitted.
              <br><br>
              <strong>Example:</strong> <code>{index}-cute-animal.{ext}</code><br>
              ‚Üí <code>1-cute-animal.webp</code>, <code>2-cute-animal.webp</code>, <code>3-cute-animal.webp</code>
            </div>
            <div id="rename-preview" class="preview-text"></div>
          </div>

          <!-- Suffix (Legacy - keep for backward compatibility but deprecate) -->
          <div class="form-group" style="display: none;">
            <label for="suffix" class="form-label">Custom Suffix</label>
            <input type="text" id="suffix" class="text-input" placeholder="e.g., optimized">
            <div class="input-helper">
              Custom suffix to add before file extension. Example: "optimized" creates "image-optimized.png"
            </div>
            <div id="suffix-preview" class="preview-text"></div>
          </div>

          <!-- Auto Suffix -->
          <div class="form-group">
            <label class="toggle-label">
              <input type="checkbox" id="auto-suffix" class="toggle-input">
              <span class="toggle-slider"></span>
              <span class="toggle-text">Auto Suffix</span>
            </label>
            <div class="input-helper">
              Automatically add size-based suffix: -800w (width), -600h (height), -800x600 (both).
            </div>
            <div id="auto-suffix-preview" class="preview-text"></div>
          </div>

          <!-- Overwrite -->
          <div class="form-group">
            <label class="checkbox-label">
              <input type="checkbox" id="overwrite" class="checkbox-input">
              <span class="checkbox-text">Overwrite Existing Files</span>
            </label>
            <div class="input-helper warning-text" id="overwrite-warning" style="display: none;">
              ‚ö†Ô∏è Warning: This will overwrite existing output files.
            </div>
          </div>

          <!-- Submit Button -->
          <div class="form-actions">
            <button type="submit" id="process-button" class="button button-primary">
              Process Images
            </button>
            <button type="button" id="reset-button" class="button button-secondary">
              Reset Form
            </button>
          </div>
        </form>

        <!-- Results Section -->
        <div id="results-section" class="results-section" style="display: none;">
          <div style="margin-bottom: 1rem;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
              <h2 class="results-title" style="margin: 0;">Processing Results</h2>
              <button type="button" id="open-results-folder-results" class="button button-secondary" style="display: none;">
                Open results folder
              </button>
            </div>
            <div id="open-results-folder-results-helper" class="button-helper-text" style="display: none; text-align: right;"></div>
            <div id="open-results-folder-results-fallback" class="folder-open-fallback" style="display: none; text-align: right;">
              <div class="folder-open-fallback-message"></div>
              <div class="folder-open-fallback-path"></div>
            </div>
          </div>
          <div id="results-content"></div>
        </div>
      </div>

      <!-- Help Tab -->
      <div class="tab-content" id="help-tab">
        <div class="help-content">
          <!-- Sub-Navigation -->
          <nav class="help-subnav" id="help-subnav">
            <a class="help-subnav-link" href="#help-compression">Formats / Compression</a>
            <a class="help-subnav-link" href="#help-ui-options">UI Guide</a>
            <a class="help-subnav-link" href="#help-install">Install CLI</a>
            <a class="help-subnav-link" href="#help-reference">CLI Options</a>
            <a class="help-subnav-link" href="#help-examples">Examples</a>
          </nav>

          <!-- Welcome -->
          <div class="help-card" style="background: var(--orange-bg-light); margin-bottom: 1.5rem;">
            <h4 class="help-card-title" style="font-size: 1.1rem; color: var(--orange-text);">Welcome to Pulp Image</h4>
            <p class="help-card-text">This browser UI works fully offline. The CLI is optional for automation, advanced workflows, or if you prefer the terminal.</p>
            <p class="help-card-text" style="margin-top: 0.5rem;">If you downloaded this UI as a portable package from the Pulp website, you don't need to install the CLI ‚Äî it's already included. If you want to use the CLI separately, see the <a href="#help-install" style="color: var(--orange-text); font-weight: 600;">installation guide</a>.</p>
          </div>

          <!-- Compression Behavior -->

          <section id="help-compression">
            <h2>Formats / Compression</h2>
            <table class="help-table">
              <thead><tr><th>Format</th><th>Transparency</th><th>Compression</th><th>Default Quality</th></tr></thead>
              <tbody>
                <tr><td><code>png</code></td><td>‚úì Yes</td><td>Always lossless</td><td>‚Äî</td></tr>
                <tr><td><code>jpg</code></td><td>‚úó No</td><td>Always lossy</td><td>80</td></tr>
                <tr><td><code>webp</code></td><td>‚úì Yes</td><td>Lossy or lossless</td><td>80</td></tr>
                <tr><td><code>avif</code></td><td>‚úì Yes</td><td>Lossy or lossless</td><td>50</td></tr>
              </tbody>
            </table>
            <p style="margin-top: 1rem; color: var(--text-secondary); font-size: 0.9rem;"><em>Note: Resize does not affect compression ‚Äî it only changes dimensions.</em></p>
          </section>

          <!-- UI Options Guide -->
          <section id="help-ui-options">
            <h2>UI Options Guide</h2>
            
            <div class="help-subsection">
              <h3 class="help-subsection-title">Selecting Images</h3>
              <p style="margin-bottom: 0.75rem;">Choose between <strong>Files</strong> (individual images) or <strong>Folder</strong> (all images in a directory). Supports drag-and-drop.</p>
            </div>
            
            <div class="help-subsection">
              <h3 class="help-subsection-title">Output Directory</h3>
              <p style="margin-bottom: 0.5rem;">Default: <code>~/pulp-image-results/[timestamp]/</code></p>
              <p style="margin-bottom: 0.75rem;">Enable "Use custom output directory" to specify your own path. Use <code>~</code> for home directory.</p>
            </div>
            
            <div class="help-subsection">
              <h3 class="help-subsection-title">Dimensions (Width & Height)</h3>
              <table class="help-table">
                <thead><tr><th>Setting</th><th>Result</th></tr></thead>
                <tbody>
                  <tr><td>Width only</td><td>Height adjusts to preserve aspect ratio</td></tr>
                  <tr><td>Height only</td><td>Width adjusts to preserve aspect ratio</td></tr>
                  <tr><td>Both</td><td>Exact dimensions (may crop)</td></tr>
                  <tr><td>Neither</td><td>Original size (format/quality only)</td></tr>
                </tbody>
              </table>
            </div>
            
            <div class="help-subsection">
              <h3 class="help-subsection-title">Quality Slider</h3>
              <p style="margin-bottom: 0.5rem;">Controls compression for JPG, WebP, AVIF (1-100). Disabled for PNG and when lossless is enabled.</p>
              <table class="help-table">
                <thead><tr><th>Range</th><th>Use Case</th></tr></thead>
                <tbody>
                  <tr><td>90-100</td><td>Near-lossless, important photos</td></tr>
                  <tr><td>75-89</td><td>Good balance (recommended)</td></tr>
                  <tr><td>50-74</td><td>Thumbnails, previews</td></tr>
                </tbody>
              </table>
            </div>
            
            <div class="help-subsection">
              <h3 class="help-subsection-title">Alpha (Transparency)</h3>
              <p style="margin-bottom: 0.5rem;">When converting to JPG (no transparency):</p>
              <ul style="margin: 0 0 0 1.25rem; color: var(--text-secondary);">
                <li><strong>Flatten</strong> ‚Äî Fill transparent areas with background color</li>
                <li><strong>Error</strong> ‚Äî Fail if image has transparency</li>
              </ul>
            </div>
            
            <div class="help-subsection">
              <h3 class="help-subsection-title">Auto Suffix</h3>
              <p style="margin-bottom: 0.5rem;">Adds dimensions to filename:</p>
              <ul style="margin: 0 0 0 1.25rem; color: var(--text-secondary);">
                <li>Width 800 ‚Üí <code>photo-800w.webp</code></li>
                <li>Height 600 ‚Üí <code>photo-600h.webp</code></li>
                <li>Both ‚Üí <code>photo-800x600.webp</code></li>
              </ul>
            </div>
            
            <div class="help-subsection">
              <h3 class="help-subsection-title">Rename Patterns (UI Only)</h3>
              <p style="margin-bottom: 0.5rem;">Flexible output filename generation. <em>CLI users already have shell tools for renaming that can be piped with Pulp.</em></p>
              <p style="margin-bottom: 0.5rem;"><strong>Supported Tokens:</strong></p>
              <ul style="margin: 0 0 1rem 1.25rem; color: var(--text-secondary);">
                <li><code>{name}</code> ‚Äî Original basename (without extension)</li>
                <li><code>{ext}</code> ‚Äî Output extension (without leading dot)</li>
                <li><code>{index}</code> ‚Äî 1-based index in batch</li>
              </ul>
              <table class="help-table">
                <thead><tr><th>Pattern</th><th>Result</th></tr></thead>
                <tbody>
                  <tr><td><code>{name}-optimized.{ext}</code></td><td>photo-optimized.webp</td></tr>
                  <tr><td><code>{index}-{name}.{ext}</code></td><td>1-photo.webp, 2-cat.webp</td></tr>
                  <tr><td><code>thumb-{name}.{ext}</code></td><td>thumb-photo.webp</td></tr>
                  <tr><td><code>image-{index}.{ext}</code></td><td>image-1.webp, image-2.webp</td></tr>
                </tbody>
              </table>
            </div>
          </section>

          <!-- Tips -->
          <section id="help-tips">
            <h2>Tips & Best Practices</h2>
            
            <div class="help-card">
              <h4 class="help-card-title">üñºÔ∏è Web Images</h4>
              <div class="help-card-text">WebP at quality 80-85. Great compression, modern browser support.</div>
            </div>
            
            <div class="help-card">
              <h4 class="help-card-title">üì± Responsive Images</h4>
              <div class="help-card-text">Process same images with different widths (400, 800, 1200) + Auto Suffix.</div>
            </div>
            
            <div class="help-card">
              <h4 class="help-card-title">üé® Graphics & Logos</h4>
              <div class="help-card-text">PNG or WebP lossless to preserve sharp edges and text.</div>
            </div>
            
            <div class="help-card">
              <h4 class="help-card-title">üì∑ Photos</h4>
              <div class="help-card-text">JPG 85-90 or WebP 80-85 for best size/quality balance.</div>
            </div>
          </section>

          <section id="help-install">
            <h2>Installing the CLI (Optional)</h2>
            <p>The CLI is optional. Only install if you need automation, scripting, or CLI-only features like <code>--delete-original</code>.</p>
            
            <div class="terminal-example">
              <div class="terminal-example-header">
                
                
                
                <span class="terminal-example-title">Install globally via npm (requires Node.js 18+)</span>
              </div>
              <div class="terminal-example-body" data-copy="npm install -g pulp-image">
                <button class="terminal-example-copy" aria-label="Copy command">
                  <svg class="copy-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                    <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/>
                  </svg>
                  <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: none;">
                    <polyline points="20 6 9 17 4 12"/>
                  </svg>
                </button>
                <pre><span class="cmd">$</span> npm install -g pulp-image</pre>
              </div>
            </div>
            
            <div class="terminal-example">
              <div class="terminal-example-header">
                
                
                
                <span class="terminal-example-title">Verify installation</span>
              </div>
              <div class="terminal-example-body" data-copy="pulp --version">
                <button class="terminal-example-copy" aria-label="Copy command">
                  <svg class="copy-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                    <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/>
                  </svg>
                  <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: none;">
                    <polyline points="20 6 9 17 4 12"/>
                  </svg>
                </button>
                <pre><span class="cmd">$</span> pulp --version</pre>
              </div>
            </div>
            
            <div class="help-card">
              <h4 class="help-card-title">Don't have Node.js?</h4>
              <div class="help-card-text">
                Download from <a href="https://nodejs.org" target="_blank" rel="noopener" style="color: var(--orange-text);">nodejs.org</a> (LTS version). After installing, open a terminal:
                <ul style="margin: 0.5rem 0 0 1.25rem;">
                  <li><strong>macOS:</strong> Press <kbd>Cmd + Space</kbd>, type "Terminal"</li>
                  <li><strong>Windows:</strong> Search "PowerShell" or "Command Prompt"</li>
                  <li><strong>Linux:</strong> Open your terminal application</li>
                </ul>
              </div>
            </div>
          </section>

          <section id="help-reference">
            <h2>CLI Options</h2>
            <p>Complete reference for all CLI options:</p>
            
            <table class="help-table">
              <thead><tr><th>Option</th><th>Description</th><th>Default</th></tr></thead>
              <tbody>
                <tr>
                  <td><code>-w, --width &lt;number&gt;</code></td>
                  <td>Output width in pixels. Aspect ratio is preserved if height is not specified.</td>
                  <td>‚Äî</td>
                </tr>
                <tr>
                  <td><code>-h, --height &lt;number&gt;</code></td>
                  <td>Output height in pixels. Aspect ratio is preserved if width is not specified.</td>
                  <td>‚Äî</td>
                </tr>
                <tr>
                  <td><code>-f, --format &lt;format&gt;</code></td>
                  <td>Output format: <code>png</code>, <code>jpg</code>, <code>webp</code>, or <code>avif</code></td>
                  <td>Same as input</td>
                </tr>
                <tr>
                  <td><code>-o, --out &lt;dir&gt;</code></td>
                  <td>Output directory. Created automatically if it doesn't exist.</td>
                  <td><code>./pulp-image-results</code></td>
                </tr>
                <tr>
                  <td><code>--quality &lt;number&gt;</code></td>
                  <td>Quality for lossy formats (1-100). Higher = better quality, larger file.</td>
                  <td>JPG: 80, WebP: 80, AVIF: 50</td>
                </tr>
                <tr>
                  <td><code>--lossless</code></td>
                  <td>Use lossless compression for WebP and AVIF. PNG is always lossless.</td>
                  <td>Off (lossy)</td>
                </tr>
                <tr>
                  <td><code>--suffix &lt;text&gt;</code></td>
                  <td>Custom suffix added before file extension. E.g., "optimized" ‚Üí image-optimized.png</td>
                  <td>‚Äî</td>
                </tr>
                <tr>
                  <td><code>--auto-suffix</code></td>
                  <td>Automatically add size-based suffix: <code>-800w</code>, <code>-600h</code>, or <code>-800x600</code></td>
                  <td>Off</td>
                </tr>
                <tr>
                  <td><code>--background &lt;color&gt;</code></td>
                  <td>Background color (hex) for transparency flattening when converting to JPG.</td>
                  <td><code>#ffffff</code></td>
                </tr>
                <tr>
                  <td><code>--alpha-mode &lt;mode&gt;</code></td>
                  <td>How to handle transparency: <code>flatten</code> (composite onto background) or <code>error</code> (fail if present)</td>
                  <td><code>flatten</code></td>
                </tr>
                <tr>
                  <td><code>--overwrite</code></td>
                  <td>Overwrite existing output files. By default, existing files are skipped.</td>
                  <td>Off (skip)</td>
                </tr>
                <tr>
                  <td><code>--delete-original</code></td>
                  <td>Delete original files after successful processing. Only works if input/output paths differ. <em>(CLI only)</em></td>
                  <td>Off</td>
                </tr>
                <tr>
                  <td><code>-v, --verbose</code></td>
                  <td>Show detailed per-file processing information. <em>(CLI only)</em></td>
                  <td>Off</td>
                </tr>
                <tr>
                  <td><code>--version</code></td>
                  <td>Display version number.</td>
                  <td>‚Äî</td>
                </tr>
                <tr>
                  <td><code>--help</code></td>
                  <td>Display help information.</td>
                  <td>‚Äî</td>
                </tr>
              </tbody>
            </table>
          </section>

          <section id="help-examples">
            <h2>Quick Examples</h2>
            <p style="margin-bottom: 1rem;">Click to copy any command:</p>
            
            <div class="terminal-example">
              <div class="terminal-example-header">
                <span class="terminal-example-title">Convert to WebP</span>
              </div>
              <div class="terminal-example-body" data-copy="pulp image.png --format webp">
                <button class="terminal-example-copy" aria-label="Copy command">
                  <svg class="copy-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                    <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/>
                  </svg>
                  <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: none;">
                    <polyline points="20 6 9 17 4 12"/>
                  </svg>
                </button>
                <pre><span class="cmd">$</span> pulp image.png <span class="flag">--format</span> <span class="value">webp</span></pre>
              </div>
            </div>
            
            <div class="terminal-example">
              <div class="terminal-example-header">
                <span class="terminal-example-title">Resize to 800px width</span>
              </div>
              <div class="terminal-example-body" data-copy="pulp image.png --width 800">
                <button class="terminal-example-copy" aria-label="Copy command">
                  <svg class="copy-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                    <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/>
                  </svg>
                  <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: none;">
                    <polyline points="20 6 9 17 4 12"/>
                  </svg>
                </button>
                <pre><span class="cmd">$</span> pulp image.png <span class="flag">--width</span> <span class="value">800</span>
<span class="comment"># Height adjusts to preserve aspect ratio</span></pre>
              </div>
            </div>
            
            <div class="terminal-example">
              <div class="terminal-example-header">
                
                
                
                <span class="terminal-example-title">Batch convert a folder</span>
              </div>
              <div class="terminal-example-body" data-copy="pulp ./images --format webp --out ./output">
                <button class="terminal-example-copy" aria-label="Copy command">
                  <svg class="copy-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                    <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/>
                  </svg>
                  <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: none;">
                    <polyline points="20 6 9 17 4 12"/>
                  </svg>
                </button>
                <pre><span class="cmd">$</span> pulp <span class="value">./images</span> <span class="flag">--format</span> <span class="value">webp</span> <span class="flag">--out</span> <span class="value">./output</span>

<span class="success">‚úì</span> <span class="output">Processed 12 file(s)</span>
  <span class="output">Saved:</span> <span class="success">39.8 MB (82%)</span></pre>
              </div>
            </div>
            
            <div class="terminal-example">
              <div class="terminal-example-header">
                
                
                
                <span class="terminal-example-title">Convert to AVIF with quality</span>
              </div>
              <div class="terminal-example-body" data-copy="pulp image.png --format avif --quality 70">
                <button class="terminal-example-copy" aria-label="Copy command">
                  <svg class="copy-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                    <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/>
                  </svg>
                  <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: none;">
                    <polyline points="20 6 9 17 4 12"/>
                  </svg>
                </button>
                <pre><span class="cmd">$</span> pulp image.png <span class="flag">--format</span> <span class="value">avif</span> <span class="flag">--quality</span> <span class="value">70</span></pre>
              </div>
            </div>
            
            <div class="terminal-example">
              <div class="terminal-example-header">
                
                
                
                <span class="terminal-example-title">Flatten transparency to JPG</span>
              </div>
              <div class="terminal-example-body" data-copy='pulp logo.png --format jpg --background "#ff6b35"'>
                <button class="terminal-example-copy" aria-label="Copy command">
                  <svg class="copy-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                    <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/>
                  </svg>
                  <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: none;">
                    <polyline points="20 6 9 17 4 12"/>
                  </svg>
                </button>
                <pre><span class="cmd">$</span> pulp logo.png <span class="flag">--format</span> <span class="value">jpg</span> <span class="flag">--background</span> <span class="value">"#ff6b35"</span>
<span class="comment"># Transparent areas become orange</span></pre>
              </div>
            </div>
            
            <div class="terminal-example">
              <div class="terminal-example-header">
                
                
                
                <span class="terminal-example-title">Batch resize with auto-suffix</span>
              </div>
              <div class="terminal-example-body" data-copy="pulp ./images --width 800 --auto-suffix --format webp">
                <button class="terminal-example-copy" aria-label="Copy command">
                  <svg class="copy-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                    <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/>
                  </svg>
                  <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: none;">
                    <polyline points="20 6 9 17 4 12"/>
                  </svg>
                </button>
                <pre><span class="cmd">$</span> pulp <span class="value">./images</span> <span class="flag">--width</span> <span class="value">800</span> <span class="flag">--auto-suffix</span> <span class="flag">--format</span> <span class="value">webp</span>
<span class="comment"># Output: photo-800w.webp</span></pre>
              </div>
            </div>
          </section>

          <section id="help-advanced">
            <h2>Advanced Examples</h2>
            
            <div class="help-subsection">
              <h3 class="help-subsection-title">Web Optimization</h3>
              <div class="terminal-example">
                <div class="terminal-example-header">
                  
                  
                  
                  <span class="terminal-example-title">Optimize assets for web deployment</span>
                </div>
                <div class="terminal-example-body" data-copy="pulp ./assets --format webp --quality 85 --out ./public/images">
                  <button class="terminal-example-copy" aria-label="Copy command">
                    <svg class="copy-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                      <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/>
                    </svg>
                    <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: none;">
                      <polyline points="20 6 9 17 4 12"/>
                    </svg>
                  </button>
                  <pre><span class="cmd">$</span> pulp <span class="value">./assets</span> <span class="flag">--format</span> <span class="value">webp</span> <span class="flag">--quality</span> <span class="value">85</span> <span class="flag">--out</span> <span class="value">./public/images</span></pre>
                </div>
              </div>
            </div>
            
            <div class="help-subsection">
              <h3 class="help-subsection-title">Responsive Images</h3>
              <div class="terminal-example">
                <div class="terminal-example-header">
                  
                  
                  
                  <span class="terminal-example-title">Generate multiple sizes for srcset</span>
                </div>
                <div class="terminal-example-body">
                  <pre><span class="comment"># Run multiple times with different widths:</span>
<span class="cmd">$</span> pulp <span class="value">./photos</span> <span class="flag">--width</span> <span class="value">400</span> <span class="flag">--auto-suffix</span> <span class="flag">--format</span> <span class="value">webp</span> <span class="flag">--out</span> <span class="value">./responsive</span>
<span class="cmd">$</span> pulp <span class="value">./photos</span> <span class="flag">--width</span> <span class="value">800</span> <span class="flag">--auto-suffix</span> <span class="flag">--format</span> <span class="value">webp</span> <span class="flag">--out</span> <span class="value">./responsive</span>
<span class="cmd">$</span> pulp <span class="value">./photos</span> <span class="flag">--width</span> <span class="value">1200</span> <span class="flag">--auto-suffix</span> <span class="flag">--format</span> <span class="value">webp</span> <span class="flag">--out</span> <span class="value">./responsive</span>
<span class="comment"># Creates: photo-400w.webp, photo-800w.webp, photo-1200w.webp</span></pre>
                </div>
              </div>
            </div>
            
            <div class="help-subsection">
              <h3 class="help-subsection-title">Social Media</h3>
              <div class="terminal-example">
                <div class="terminal-example-header">
                  
                  
                  
                  <span class="terminal-example-title">Create Open Graph / Twitter card image</span>
                </div>
                <div class="terminal-example-body" data-copy='pulp cover.png --format jpg --quality 90 --width 1200 --height 630 --background "#ffffff"'>
                  <button class="terminal-example-copy" aria-label="Copy command">
                    <svg class="copy-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                      <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/>
                    </svg>
                    <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: none;">
                      <polyline points="20 6 9 17 4 12"/>
                    </svg>
                  </button>
                  <pre><span class="cmd">$</span> pulp cover.png <span class="flag">--format</span> <span class="value">jpg</span> <span class="flag">--quality</span> <span class="value">90</span> \
    <span class="flag">--width</span> <span class="value">1200</span> <span class="flag">--height</span> <span class="value">630</span> <span class="flag">--background</span> <span class="value">"#ffffff"</span></pre>
                </div>
              </div>
            </div>
            
            <div class="help-subsection">
              <h3 class="help-subsection-title">CI/CD Pipeline</h3>
              <div class="terminal-example">
                <div class="terminal-example-header">
                  
                  
                  
                  <span class="terminal-example-title">Build script optimization</span>
                </div>
                <div class="terminal-example-body" data-copy="pulp ./src/images --format webp --quality 80 --out ./dist/images --overwrite">
                  <button class="terminal-example-copy" aria-label="Copy command">
                    <svg class="copy-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                      <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/>
                    </svg>
                    <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: none;">
                      <polyline points="20 6 9 17 4 12"/>
                    </svg>
                  </button>
                  <pre><span class="cmd">$</span> pulp <span class="value">./src/images</span> <span class="flag">--format</span> <span class="value">webp</span> <span class="flag">--quality</span> <span class="value">80</span> \
    <span class="flag">--out</span> <span class="value">./dist/images</span> <span class="flag">--overwrite</span>
<span class="comment"># Overwrites on each build for fresh output</span></pre>
                </div>
              </div>
            </div>
            
            <div class="help-subsection">
              <h3 class="help-subsection-title">Delete Originals (CLI Only)</h3>
              <div class="terminal-example">
                <div class="terminal-example-header">
                  
                  
                  
                  <span class="terminal-example-title">Convert and remove originals</span>
                </div>
                <div class="terminal-example-body" data-copy="pulp ./images --format webp --out ./converted --delete-original">
                  <button class="terminal-example-copy" aria-label="Copy command">
                    <svg class="copy-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                      <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/>
                    </svg>
                    <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: none;">
                      <polyline points="20 6 9 17 4 12"/>
                    </svg>
                  </button>
                  <pre><span class="cmd">$</span> pulp <span class="value">./images</span> <span class="flag">--format</span> <span class="value">webp</span> <span class="flag">--out</span> <span class="value">./converted</span> <span class="flag">--delete-original</span>
<span class="comment"># ‚ö†Ô∏è Original files are permanently deleted after processing</span></pre>
                </div>
              </div>
            </div>
          </section>

          <!-- When to Use CLI vs UI -->
          <section id="help-when-to-use">
            <h2>When to Use CLI vs UI</h2>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
              <div class="help-card">
                <h4 class="help-card-title">Use CLI when:</h4>
                <ul class="help-card-text" style="margin: 0; padding-left: 1.25rem;">
                  <li>Automating workflows or scripts</li>
                  <li>Processing large batches from command line</li>
                  <li>Integrating with other tools</li>
                  <li>You need to delete original files (CLI only)</li>
                  <li>You're comfortable with command line</li>
                </ul>
              </div>
              
              <div class="help-card">
                <h4 class="help-card-title">Use UI when:</h4>
                <ul class="help-card-text" style="margin: 0; padding-left: 1.25rem;">
                  <li>You're new to the tool</li>
                  <li>You want visual feedback and guidance</li>
                  <li>You need to understand option combinations</li>
                  <li>You want to keep originals safe (UI processes copies)</li>
                  <li>You prefer point-and-click interfaces</li>
                </ul>
              </div>
            </div>
          </section>

        </div>
      </div>
      
      <!-- Back to Top Button (works for both tabs) -->
      <button class="back-to-top" id="back-to-top" aria-label="Back to top">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="18 15 12 9 6 15"/>
        </svg>
      </button>
    </main>
  </div>

  <script src="app.js"></script>
</body>
</html>

